!function(d,e,m){"use strict";d.fn.yit_infinitescroll=function(t){var l=d.extend({nextSelector:!1,navSelector:!1,itemSelector:!1,contentSelector:!1,maxPage:!1,loader:!1,is_shop:!1},t),a=!1,c=!1,h=d(l.nextSelector).attr("href");d(l.nextSelector).length&&d(l.navSelector).length&&d(l.itemSelector).length&&d(l.contentSelector).length?d(l.navSelector).hide():c=!0;var f=d(l.contentSelector).find(l.itemSelector).first().nextUntil(".first",l.itemSelector).length+1;d(e).on("scroll touchstart",function(){d(this).trigger("yith_infs_start")}),d(e).on("yith_infs_start",function(){var s,t=d(this),e=d(l.itemSelector).last();void 0!==e&&!a&&!c&&t.scrollTop()+t.height()>=e.offset().top-2*e.height()&&(s=d(l.contentSelector).find(l.itemSelector).last(),l.loader&&d(l.navSelector).after('<div class="yith-infs-loader">'+l.loader+"</div>"),a=!0,h=(h=decodeURIComponent(h)).replace(/^(?:\/\/|[^\/]+)*\//,"/"),d.ajax({url:h,dataType:"html",tryCount:1,retryLimit:2,cache:!1,success:function(t){var e,i,r,n=(t=d(t)).find(l.itemSelector),t=t.find(l.nextSelector),o=h;t.length?h=t.attr("href"):(c=!0,d(m).trigger("yith-infs-scroll-finished")),!s.hasClass("last")&&l.is_shop&&(t=n,i=(e=f)-s.prevUntil(".last",l.itemSelector).length,r=0,t.each(function(){var t=d(this);r++,t.removeClass("first"),t.removeClass("last"),(r-i)%e==0?t.addClass("first"):(r-(i-1))%e==0&&t.addClass("last")})),s.after(n),d(".yith-infs-loader").remove(),d(m).trigger("yith_infs_adding_elem",[n,o]),n.addClass("yith-infs-animated"),setTimeout(function(){a=!1,n.removeClass("yith-infs-animated"),d(m).trigger("yith_infs_added_elem",[n,o])},1e3)},error:function(t,e,i){this.tryCount++,this.tryCount<=this.retryLimit&&$.ajax(this)}}))})}}(jQuery,window,document);